<!-- Activity feed list -->
{% if activities %}
    {% for activity in activities %}
        {% include "partials/activity_item.html" %}
    {% endfor %}

    {% if has_more %}
        <div class="load-more-container">
            <button class="load-more-btn"
                    hx-get="{{ request.url.path }}?offset={{ next_offset }}"
                    hx-target="this"
                    hx-swap="outerHTML"
                    hx-indicator=".loading">
                <span class="htmx-indicator loading">Loading...</span>
                <span>Load more activities</span>
            </button>
        </div>
    {% endif %}
{% else %}
    {% include "partials/empty_feed.html" %}
{% endif %}

<style>
    .load-more-container {
        display: flex;
        justify-content: center;
        padding: 2rem 0;
    }

    .load-more-btn {
        padding: 0.75rem 2rem;
        background-color: #667eea;
        color: white;
        border: none;
        border-radius: 0.25rem;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: background-color 0.2s ease;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .load-more-btn:hover {
        background-color: #5568d3;
    }

    .load-more-btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
    }
</style>
